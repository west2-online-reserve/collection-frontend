<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <title>海绵宝宝抓章鱼</title>
</head>
<style>
  * {
    font-size: 30px;
  }
</style>

<body>
  <p>
    海绵宝宝很爱抓章鱼，可爱的学长（出题人）把章鱼哥也混在里面了，尽管他也是章鱼，但是不能抓到他。
  </p>
  <p>
    现在我们要将章鱼哥先从这些章鱼中分离出来（即把这个节点从
    <code>&lt;ul&gt;</code> 里面去掉），之后再抓章鱼。
  </p>
  <p>
    海绵宝宝抓章鱼喜欢先从重量小的开始抓，请帮助可爱的海绵宝宝和可爱的学长
  </p>

  <ul id="octopus">
    <li>
      <span class="name">章鱼一号</span><span class="weight">30.4kg</span>
    </li>
    <li>
      <span class="name">章鱼二号</span><span class="weight">24.2kg</span>
    </li>
    <li>
      <span class="name">章鱼三号</span><span class="weight">250.3kg</span>
    </li>
    <li>
      <span class="name">章鱼四号</span><span class="weight">300.9kg</span>
    </li>
    <li>
      <span class="name">章鱼五号</span><span class="weight">120.0kg</span>
    </li>
    <li>
      <span class="name">章鱼六号</span><span class="weight">27.5kg</span>
    </li>
    <li>
      <span class="name">章鱼七号</span><span class="weight">35.4kg</span>
    </li>
    <li>
      <span class="name">章鱼哥</span><span class="weight">25.5kg</span>
    </li>
  </ul>

  <ul id="octopus-sort">
    <!--
        <li>第一只章鱼：章鱼六号：27.5kg</li>
      -->
  </ul>

  <button id="sort-btn">排序</button>

  <!-- 不可以修改上述代码内容，只能在 script 标签内填写代码 -->

  <script>
    function remove() {
      const list = document.getElementById('octopus');
      const items = list.getElementsByTagName('li');

      for (let i = 0; i < items.length; i++) {
        const nameSpan = items[i].querySelector('.name');
        if (nameSpan && nameSpan.textContent === '章鱼哥') {
          list.removeChild(items[i]);
          break;
        }
      }
    }

    function getWeight() {
      const data = [];
      const items = document.querySelectorAll('#octopus li');

      items.forEach(item => {
        const name = item.querySelector('.name').textContent;
        const weightText = item.querySelector('.weight').textContent;
        const weight = parseFloat(weightText);

        data.push({
          name: name,
          weight: weight
        });
      });

      return data;
    }

    function getSortedOctopus(data) {
      return data.sort((a, b) => a.weight - b.weight);
    }

    function render(data) {
      const sortList = document.getElementById('octopus-sort');
      sortList.innerHTML = '';

      data.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = `第${index + 1}只章鱼：${item.name}: ${item.weight}kg`;
        sortList.appendChild(li);
      });
    }

    function handleButtonClick() {
      remove();
      const data = getWeight();
      const sortedData = getSortedOctopus(data);
      render(sortedData);
    }

    document.getElementById('sort-btn').addEventListener('click', handleButtonClick);
  </script>
</body>

</html>