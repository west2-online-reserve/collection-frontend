<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>海绵宝宝抓章鱼</title>
</head>
<style>
    * {
        font-size: 30px;
    }
</style>

<body>
    <p>海绵宝宝很爱抓章鱼,可爱的学长（出题人）把章鱼哥也混在里面了,尽管他也是章鱼，但是不能抓到他</p>
    <p>现在我们要将章鱼哥先从这些章鱼中脱离出来(即把这个节点从ul里面去掉),之后再抓章鱼</p>
    <p>海绵宝宝抓章鱼喜欢先从重量小的开始抓，请帮助可爱的海绵宝宝和可爱的学长</p>

    <ul id="octopus">
        <li><span class="name">章鱼一号</span><span class="weight">37.4kg</span></li>
        <li><span class="name">章鱼二号</span><span class="weight">24.2kg</span></li>
        <li><span class="name">章鱼三号</span><span class="weight">256.3kg</span></li>
        <li><span class="name">章鱼四号</span><span class="weight">300.9kg</span></li>
        <li><span class="name">章鱼五号</span><span class="weight">120.0kg</span></li>
        <li><span class="name">章鱼六号</span><span class="weight">27.5kg</span></li>
        <li><span class="name">章鱼七号</span><span class="weight">32.4kg</span></li>
        <li><span class="name">章鱼哥</span><span class="weight">25.5kg</span></li>
    </ul>

    <ul id="octopus-sort">
        <!--
        <li>第一只章鱼：章鱼六号：27.5kg</li>
     -->
    </ul>
    <button id="sort-btn">排序</button>

    <!--
        不可以修改上述代码内容，只能在script标签内填写代码
    -->
    <script>
        document.getElementById("sort-btn").onclick = sortWeight;
        function sortWeight(){
        let list = document.getElementById("octopus");
        let b = list.getElementsByClassName("weight");
        let myName = list.getElementsByClassName("name");
        let nameList = Array.from(myName);
        let weightList = Array.from(b);
        let sortList = [];
        console.log(nameList);
        console.log(weightList);
        for (let i = 0; i<weightList.length;i++){
            sortList[i] ={
                weight : parseFloat(weightList[i].textContent),
                name : nameList[i].textContent
    };    
        }
        sortList.splice(7);
        for(let i=0;i<sortList.length-1;i++){
        for (let j = 0; j < sortList.length - 1-i; j++) {
			if (sortList[j].weight > sortList[j + 1].weight) {
				temp = sortList[j];
				sortList[j] = sortList[j + 1];
				sortList[j + 1] = temp;
			}
		}
    }
        for (let j = 0; j < sortList.length - 1; j++) {
			console.log(sortList[j]);
		}
        let newList = document.createElement("ul");
        let num = ["一","二","三","四","五","六","七"];
    for (let j = 0; j <= sortList.length - 1; j++) {
        let newItem = document.createElement("li");
        newItem.textContent = "第"+num[j]+"只章鱼: "+sortList[j].name+":"+sortList[j].weight+"kg";
        newList.appendChild(newItem);
    }
    list.parentNode.replaceChild(newList, list);


    }
    </script>
</body>

</html>