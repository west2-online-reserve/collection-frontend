

## 一、如何运行爬虫

### 环境准备

1. 确保已安装 [Node.js](https://nodejs.org/) 

2. 创建项目文件夹并初始化:
   
   ```cmd
   npm init -y
   ```

### 安装依赖

```cmd
npm install axios cheerio
```

### 代码准备

1. 将提供的爬虫代码保存为 `server.js`

### 运行爬虫

```bash
node server.js
```

### 运行结果

- 爬虫会显示抓取进度:
  
  ```
  正在抓取第 1 页...
  正在抓取第 2 页...
  ```

- 完成后会输出抓取总数:
  
  ```
  共抓取到: 42 条数据
  数据已保存到 notices.json
  ```

## 二、爬取结果数据字段说明

生成的 `notices.json` 文件包含以下字段的数组:

| 字段名    | 类型     | 说明                         | 示例值                                   |
| ------ | ------ | -------------------------- | ------------------------------------- |
| office | string | 发布通知的部门/办公室名称              | "计算机与大数据学院"                           |
| title  | string | 通知的标题（从a标签的title属性获取）      | "关于举办2025年学术讲座的通知"                    |
| link   | string | 通知的完整URL（已拼接基础URL）         | "https://info22.fzu.edu.cn/1234.html" |
| time   | string | 通知的发布时间（从span标签获取，已去除前后空格） | "2025-03-15"                          |

### 数据筛选规则

- 爬虫会自动停止条件：
  1. 当遇到发布时间早于2025-01-01的通知时停止
  2. 当页面没有数据时停止
  3. 当发生错误时停止

## 三、注意事项

1. **爬取限制**:
   
   - 代码中设置了1秒的请求间隔，避免给服务器造成过大压力
   - 如果被反爬，可以适当增加延迟时间

2. **结果存储**:
   
   - 数据会保存在项目目录下的 `notices.json` 文件
   - 文件使用UTF-8编码，可直接用文本编辑器或Excel打开

3. **自定义修改**:
   
   - 要修改截止日期，可更改代码中的 `new Date('2025-01-01')`
   - 要修改保存路径，可更改 `path.join(__dirname, 'notices.json')`

4. **错误处理**:
   
   - 如果中途出错，已抓取的数据仍会保存
   - 错误信息会显示在控制台

如需抓取更多或不同的数据，可以根据需要调整CSS选择器部分。
